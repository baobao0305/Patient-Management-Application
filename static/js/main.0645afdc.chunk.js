(this["webpackJsonppatient-management-frontend"]=this["webpackJsonppatient-management-frontend"]||[]).push([[0],{135:function(e,a,t){e.exports=t(153)},141:function(e,a,t){},153:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(110),i=t.n(l),s=(t(141),t(62)),c=t(8),o=t(217),m=t(226),d=t(227),u=t(222),p=t(232),E=t(224),h=t(233),v=t(234),g=t(235),f=t(236),y=t(237),A=t(216),C=t(219),b=t(115),N=t.n(b),P=t(112),O=t.n(P),D=t(113),S=t.n(D);var I=()=>{const[e,a]=Object(n.useState)([]),[t,l]=Object(n.useState)([]),[i,s]=Object(n.useState)(""),[b,P]=Object(n.useState)(0),[D,I]=Object(n.useState)(10),j=Object(c.o)();Object(n.useEffect)(()=>{(async()=>{try{const e=(await o.a.get("https://localhost:7141/api/patients")).data;e&&Array.isArray(e.$values)?(a(e.$values),l(e.$values)):console.error("Unexpected data format:",e)}catch(e){console.error("Error fetching patients:",e)}})()},[]),Object(n.useEffect)(()=>{(()=>{const a=i.toLowerCase(),t=e.filter(e=>{var t;const n=`${e.firstName} ${e.lastName}`.toLowerCase().includes(a),r=null===(t=e.dateOfBirth)||void 0===t?void 0:t.includes(a),l=e.contactInfo&&e.contactInfo.some(e=>e.contactDetail.includes(a)),i=e.isActive.toLowerCase().includes(a);return n||r||l||i});l(t)})()},[i,e]);return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Patient List"),r.a.createElement(m.a,null,r.a.createElement(d.a,{p:2,display:"flex",flexDirection:"column",gap:2},r.a.createElement(d.a,{display:"flex",gap:2,alignItems:"center"},r.a.createElement(u.a,{variant:"outlined",label:"Search (Name, DOB, Contacts, or Status)",value:i,onChange:e=>s(e.target.value),InputProps:{endAdornment:r.a.createElement(p.a,null,r.a.createElement(O.a,null))},fullWidth:!0}),r.a.createElement(E.a,{variant:"contained",color:"primary",startIcon:r.a.createElement(S.a,null),onClick:()=>{j("/add-patient")}},"Add Patient")),r.a.createElement(h.a,null,r.a.createElement(v.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,null,"First Name"),r.a.createElement(f.a,null,"Last Name"),r.a.createElement(f.a,null,"Date of Birth"),r.a.createElement(f.a,null,"Status"),r.a.createElement(f.a,null,"Actions"))),r.a.createElement(y.a,null,t.slice(b*D,b*D+D).map(e=>r.a.createElement(g.a,{key:e.patientID},r.a.createElement(f.a,null,e.firstName),r.a.createElement(f.a,null,e.lastName),r.a.createElement(f.a,null,(e=>{if(!e)return"";const a=new Date(e);return`${String(a.getDate()).padStart(2,"0")}-${String(a.getMonth()+1).padStart(2,"0")}-${a.getFullYear()}`})(e.dateOfBirth)),r.a.createElement(f.a,null,e.isActive),r.a.createElement(f.a,null,r.a.createElement(A.a,{title:"View Details"},r.a.createElement(p.a,{color:"primary",onClick:()=>{return a=e.patientID,void j("/patient-detail/"+a);var a}},r.a.createElement(N.a,null)))))))),r.a.createElement(C.a,{rowsPerPageOptions:[10,25,50],component:"div",count:t.length,rowsPerPage:D,page:b,onPageChange:(e,a)=>{P(a)},onRowsPerPageChange:e=>{I(parseInt(e.target.value,10)),P(0)}}))))},j=t(231),B=t(223),T=t(218),k=t(221);var w=()=>{const[e,a]=Object(n.useState)(""),[t,l]=Object(n.useState)(""),[i,s]=Object(n.useState)(""),[c,d]=Object(n.useState)(""),[p,h]=Object(n.useState)([""]),[v,g]=Object(n.useState)([""]),[f,y]=Object(n.useState)(""),[A,C]=Object(n.useState)(""),[b,N]=Object(n.useState)("Active");return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Add New Patient"),r.a.createElement(m.a,{style:{padding:"16px"}},r.a.createElement("form",{onSubmit:async n=>{n.preventDefault();const r={firstName:e,lastName:t,gender:i,dateOfBirth:c,isActive:b,ContactInfo:[...p.map(e=>({ContactType:"Phone",ContactDetail:e})),...v.map(e=>({ContactType:"Email",ContactDetail:e}))],Addresses:[{AddressType:"Primary",AddressDetail:f},{AddressType:"Secondary",AddressDetail:A}]};try{const e=await o.a.post("https://localhost:7141/api/patients",r);console.log(e.data),alert("Patient added successfully!"),a(""),l(""),s(""),d(""),h([""]),g([""]),y(""),C(""),N("Active")}catch(m){m.response?(console.error("Error adding patient:",m.response.data),alert("Error adding patient: "+m.response.data)):m.request?(console.error("Error adding patient: No response received"),alert("Error adding patient: No response received")):(console.error("Error adding patient:",m.message),alert("Error adding patient: "+m.message))}}},r.a.createElement("h3",null,"Demographics"),r.a.createElement(u.a,{label:"First Name",variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:e=>a(e.target.value),required:!0}),r.a.createElement(u.a,{label:"Last Name",variant:"outlined",fullWidth:!0,margin:"normal",value:t,onChange:e=>l(e.target.value),required:!0}),r.a.createElement(j.a,{fullWidth:!0,margin:"normal",required:!0},r.a.createElement(B.a,null,"Gender"),r.a.createElement(T.a,{value:i,onChange:e=>s(e.target.value),label:"Gender"},r.a.createElement(k.a,{value:"Male"},"Male"),r.a.createElement(k.a,{value:"Female"},"Female"))),r.a.createElement(u.a,{label:"Date of Birth",variant:"outlined",type:"date",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:c,onChange:e=>d(e.target.value),required:!0}),r.a.createElement("h3",null,"Addresses"),r.a.createElement(u.a,{label:"Primary Address",variant:"outlined",fullWidth:!0,margin:"normal",value:f,onChange:e=>y(e.target.value),required:!0}),r.a.createElement(u.a,{label:"Secondary Address (Optional)",variant:"outlined",fullWidth:!0,margin:"normal",value:A,onChange:e=>C(e.target.value)}),r.a.createElement("h3",null,"Contact Info"),p.map((e,a)=>r.a.createElement("div",{key:a,style:{marginBottom:"16px"}},r.a.createElement(u.a,{label:"Phone Number",variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:e=>((e,a)=>{const t=p.map((t,n)=>n===e?a.target.value:t);h(t)})(a,e),required:!0}),a>0&&r.a.createElement(E.a,{size:"small",variant:"contained",color:"secondary",onClick:()=>(e=>{h(p.filter((a,t)=>t!==e))})(a),style:{marginTop:"8px"}},"Remove Phone"))),r.a.createElement(E.a,{size:"small",variant:"contained",color:"primary",onClick:()=>{h([...p,""])}},"Add Phone Number"),v.map((e,a)=>r.a.createElement("div",{key:a,style:{marginBottom:"16px"}},r.a.createElement(u.a,{label:"Email Address",variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:e=>((e,a)=>{const t=v.map((t,n)=>n===e?a.target.value:t);g(t)})(a,e),required:!0}),a>0&&r.a.createElement(E.a,{size:"small",variant:"contained",color:"secondary",onClick:()=>(e=>{g(v.filter((a,t)=>t!==e))})(a),style:{marginTop:"8px"}},"Remove Email"))),r.a.createElement(E.a,{size:"small",variant:"contained",color:"primary",onClick:()=>{g([...v,""])}},"Add Email Address"),r.a.createElement(E.a,{size:"large",type:"submit",variant:"contained",color:"primary",style:{marginTop:"8px",display:"block"}},"Add Patient"))))};var q=()=>{const{id:e}=Object(c.q)(),a=Object(c.o)(),[t,l]=Object(n.useState)({firstName:"",lastName:"",gender:"",dateOfBirth:"",primaryAddress:"",secondaryAddress:"",phoneContacts:[],emailContacts:[],isActive:"",inactiveReason:""});Object(n.useEffect)(()=>{(async()=>{try{const a=(await o.a.get("https://localhost:7141/api/patients/"+e)).data,t=(await o.a.get(`https://localhost:7141/api/patients/${e}/addresses`)).data,n=(await o.a.get(`https://localhost:7141/api/patients/${e}/contacts`)).data.$values||[],r=t.primaryAddress||"",i=t.secondaryAddress||"",s=n.filter(e=>"Phone"===e.contactType).map(e=>e.contactDetail),c=n.filter(e=>"Email"===e.contactType).map(e=>e.contactDetail),m=new Date(a.dateOfBirth);m.setMinutes(m.getMinutes()-m.getTimezoneOffset());const d=m.toISOString().split("T")[0];l({firstName:a.firstName,lastName:a.lastName,gender:a.gender,dateOfBirth:d,primaryAddress:r,secondaryAddress:i,phoneContacts:s,emailContacts:c,isActive:a.isActive,inactiveReason:a.inactiveReason||""})}catch(a){console.error("Error fetching patient data:",a)}})()},[e]);const i=e=>{l({...t,[e.target.name]:e.target.value})},s=(e,a,n)=>{const r=[...t[a]];r[e]=n.target.value,l({...t,[a]:r})},d=e=>{l({...t,[e]:[...t[e],""]})};return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Update Patient"),r.a.createElement(m.a,{style:{padding:"16px"}},r.a.createElement("h3",null,"Demographics"),r.a.createElement("form",{onSubmit:async n=>{if(n.preventDefault(),t.primaryAddress.trim())if(0!==t.phoneContacts.length)if(0!==t.emailContacts.length)if("Inactive"!==t.isActive||t.inactiveReason)try{const n={PatientID:e,firstName:t.firstName,lastName:t.lastName,gender:t.gender,dateOfBirth:t.dateOfBirth,isActive:t.isActive,inactiveReason:"Active"===t.isActive?null:t.inactiveReason,ContactInfo:[...t.phoneContacts.map(a=>({ContactType:"Phone",ContactDetail:a,PatientID:e})),...t.emailContacts.map(a=>({ContactType:"Email",ContactDetail:a,PatientID:e}))],Addresses:[{AddressType:"Primary",AddressDetail:t.primaryAddress,PatientID:e},{AddressType:"Secondary",AddressDetail:t.secondaryAddress,PatientID:e}]};console.log("Data to be submitted:",n),await o.a.put("https://localhost:7141/api/patients/"+e,n),alert("Patient updated successfully!"),a("/")}catch(r){console.error("Error updating patient:",r)}else alert("Please provide a reason for inactivation.");else alert("At least one email contact is required.");else alert("At least one phone contact is required.");else alert("Primary address cannot be empty.")}},r.a.createElement(u.a,{label:"First Name",name:"firstName",variant:"outlined",fullWidth:!0,margin:"normal",value:t.firstName,onChange:i,required:!0}),r.a.createElement(u.a,{label:"Last Name",name:"lastName",variant:"outlined",fullWidth:!0,margin:"normal",value:t.lastName,onChange:i,required:!0}),r.a.createElement(u.a,{label:"Gender",name:"gender",variant:"outlined",fullWidth:!0,margin:"normal",value:t.gender,onChange:i,required:!0,select:!0},r.a.createElement(k.a,{value:"Male"},"Male"),r.a.createElement(k.a,{value:"Female"},"Female")),r.a.createElement(u.a,{label:"Date of Birth",name:"dateOfBirth",variant:"outlined",type:"date",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:t.dateOfBirth,onChange:i,required:!0}),r.a.createElement(u.a,{label:"Status",name:"isActive",variant:"outlined",fullWidth:!0,margin:"normal",value:t.isActive,onChange:i,required:!0,select:!0},r.a.createElement(k.a,{value:"Active"},"Active"),r.a.createElement(k.a,{value:"Inactive"},"Inactive")),"Inactive"===t.isActive&&r.a.createElement(u.a,{label:"Reason for Inactivation",name:"inactiveReason",variant:"outlined",fullWidth:!0,margin:"normal",value:t.inactiveReason,onChange:i,required:!0}),r.a.createElement("h3",null,"Addresses"),r.a.createElement(u.a,{label:"Primary Address",name:"primaryAddress",variant:"outlined",fullWidth:!0,margin:"normal",value:t.primaryAddress,onChange:i,required:!0,error:!t.primaryAddress.trim(),helperText:t.primaryAddress.trim()?"":"Primary address cannot be empty."}),r.a.createElement(u.a,{label:"Secondary Address",name:"secondaryAddress",variant:"outlined",fullWidth:!0,margin:"normal",value:t.secondaryAddress,onChange:i}),r.a.createElement("h3",null,"Contacts"),t.phoneContacts.map((e,a)=>r.a.createElement(u.a,{key:a,label:"Phone Contact "+(a+1),variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:e=>s(a,"phoneContacts",e),required:!0,error:!e.trim(),helperText:e.trim()?"":"Phone contact cannot be empty."})),r.a.createElement(E.a,{variant:"outlined",onClick:()=>d("phoneContacts")},"Add Phone Contact"),t.emailContacts.map((e,a)=>r.a.createElement(u.a,{key:a,label:"Email Contact "+(a+1),variant:"outlined",fullWidth:!0,margin:"normal",value:e,onChange:e=>s(a,"emailContacts",e),required:!0,error:!e.trim(),helperText:e.trim()?"":"Email contact cannot be empty."})),r.a.createElement(E.a,{variant:"outlined",onClick:()=>d("emailContacts")},"Add Email Contact"),r.a.createElement(E.a,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"8px",display:"block"}},"Update Patient"))))},W=t(238);var R=()=>{const{id:e}=Object(c.q)(),a=Object(c.o)(),[t,l]=Object(n.useState)({firstName:"",lastName:"",gender:"",dateOfBirth:"",primaryAddress:"",secondaryAddress:"",phoneContacts:[],emailContacts:[],status:"",inactiveReason:""});Object(n.useEffect)(()=>{(async()=>{try{const a=await o.a.get("https://localhost:7141/api/patients/"+e),t=a.data;console.log("Patient data:",a.data);const n=(await o.a.get(`https://localhost:7141/api/patients/${e}/addresses`)).data,r=(await o.a.get(`https://localhost:7141/api/patients/${e}/contacts`)).data.$values||[],i=n.primaryAddress||"",s=n.secondaryAddress||"",c=r.filter(e=>"Phone"===e.contactType).map(e=>e.contactDetail),m=r.filter(e=>"Email"===e.contactType).map(e=>e.contactDetail),d=t.dateOfBirth?new Date(t.dateOfBirth).toLocaleDateString("en-GB"):"";l({firstName:t.firstName,lastName:t.lastName,gender:t.gender,dateOfBirth:d,primaryAddress:i,secondaryAddress:s,phoneContacts:c,emailContacts:m,status:t.isActive,inactiveReason:t.inactiveReason||""})}catch(a){console.error("Error fetching patient data:",a)}})()},[e]);return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Patient Detail"),r.a.createElement(m.a,{style:{padding:"16px"}},r.a.createElement(W.a,{variant:"h6"},"Demographics"),r.a.createElement(W.a,null,r.a.createElement("strong",null,"First Name:")," ",t.firstName),r.a.createElement(W.a,null,r.a.createElement("strong",null,"Last Name:")," ",t.lastName),r.a.createElement(W.a,null,r.a.createElement("strong",null,"Gender:")," ",t.gender),r.a.createElement(W.a,null,r.a.createElement("strong",null,"Date of Birth:")," ",t.dateOfBirth),r.a.createElement(W.a,null,r.a.createElement("strong",null,"Status:")," ",t.status),"Inactive"===t.status&&r.a.createElement(W.a,null,r.a.createElement("strong",null,"Reason for Inactivation:")," ",t.inactiveReason),r.a.createElement(W.a,{variant:"h6"},"Addresses"),r.a.createElement(W.a,null,r.a.createElement("strong",null,"Primary Address:")," ",t.primaryAddress),r.a.createElement(W.a,null,r.a.createElement("strong",null,"Secondary Address:")," ",t.secondaryAddress),r.a.createElement(W.a,{variant:"h6"},"Contacts"),t.phoneContacts.map((e,a)=>r.a.createElement(W.a,{key:a},r.a.createElement("strong",null,"Phone ",a+1,":")," ",e)),t.emailContacts.map((e,a)=>r.a.createElement(W.a,{key:a},r.a.createElement("strong",null,"Email ",a+1,":")," ",e)),r.a.createElement(d.a,{mt:2},r.a.createElement(E.a,{variant:"contained",color:"primary",onClick:()=>{a("/update-patient/"+e)}},"Update Patient"))))};var x=()=>r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/",element:r.a.createElement(I,null)}),r.a.createElement(c.a,{path:"/add-patient",element:r.a.createElement(w,null)}),r.a.createElement(c.a,{path:"/update-patient/:id",element:r.a.createElement(q,null)}),r.a.createElement(c.a,{path:"/patient-detail/:id",element:r.a.createElement(R,null)}))));var $=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,240)).then(a=>{let{getCLS:t,getFID:n,getFCP:r,getLCP:l,getTTFB:i}=a;t(e),n(e),r(e),l(e),i(e)})};t(151);i.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null))),$()}},[[135,1,2]]]);
//# sourceMappingURL=main.0645afdc.chunk.js.map